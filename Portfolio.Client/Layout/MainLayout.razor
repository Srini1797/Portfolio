@inherits LayoutComponentBase
@inject Portfolio.Client.Services.IPortfolioService PortfolioService

<nav>
    <div class="container nav-container">
        <a href="#home" class="logo-container">
            @if (profile != null && !string.IsNullOrEmpty(profile.ProfileImageUrl))
            {
                <img src="@profile.ProfileImageUrl" alt="@profile.FullName" class="nav-profile-img" />
            }
            <div class="logo">
                SRINI<span class="gradient-text">VASAN</span>
            </div>
        </a>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#about">About</a>
            <a href="#skills">Skills</a>
            <a href="#experience">Experience</a>
            <a href="#projects">Projects</a>
        </div>
    </div>
</nav>

@code {
    private Portfolio.Shared.Models.Profile? profile;

    protected override async Task OnInitializedAsync()
    {
        profile = await PortfolioService.GetProfileAsync();
    }
}

<main>
    @Body
</main>

<footer style="padding: 2rem 0; text-align: center; color: var(--text-secondary); border-top: 1px solid var(--glass-border);">
    <div class="container">
        <p>&copy; @DateTime.Now.Year Srinivasan Venkatesan. All rights reserved.</p>
    </div>
</footer>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>
